<blueprint>

    <data name="todoItemList" prop="true" />
    <sensor watch="todoItemList" run="renderList" auto="true" />

    <data name="cmd_AddTodo" />

    <sensor watch="cmd_AddTodo" run="addTodo" />

    <cog node="header" url="header.html" />
    <cog node="listHolder" url="list.html" />

</blueprint>

<display>

    <div>
        Title of This
        <div id="header" ></div>
        <div id="listHolder"></div>
    </div>

</display>

<script>

    $.cog({

        uid: 3,

        addTodo: function(msg){

            var list = this.todoItemList.read();
            var todo = {id: ++(this.uid), desc: msg, done: false};

            list.push(todo);

            this.todoItemList.write(list);

        },

        meow: 'meowing!',

        init: function(){

            var list = [];

            list.push({id: 1, desc: 'bunny', done: true});
            list.push({id: 2, desc: 'kitten', done: false});
            list.push({id: 3, desc: 'cow', done: true});

            this.todoItemList.write(list);

        },

        renderList: function(msg){
            console.log('called with:', msg);
            console.log('called with:' + msg);
        }

    });

</script>



